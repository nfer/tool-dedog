!function(e,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports["tool-error-capture"]=i():e["tool-error-capture"]=i()}(this,function(){return function(e){function i(s){if(o[s])return o[s].exports;var r=o[s]={exports:{},id:s,loaded:!1};return e[s].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var o={};return i.m=e,i.c=o,i.p="",i(0)}([function(e,i,o){var s="1.0.3",r=function(e){!e||!e.monitorId,this._monitorId=e.monitorId,this._serverUrl="//dedog-report.futunn.com"};r.version=r.prototype.version=s;var n=function(e,i,o){return"load"===i&&"complete"===document.readyState?void o():void(window.addEventListener?e.addEventListener(i,o,!1):window.attachEvent&&e.attachEvent("on"+i,o))};r.prototype.listen=function(e){function i(){function e(e){var i=[];for(var o in e)i.push(o+"="+encodeURIComponent(e[o]));return i.join("&")}var i="__toolDedogBeaconImg",o=document.getElementById(i);o||(o=new Image,o.id=i,o.style.display="none",document.body.appendChild(o)),o.src=d+"?"+e(a)}var s=o(1),r=s(navigator.userAgent),t=r.device.model&&r.device.vendor+" "+r.device.model||r.device.vendor||r.device.type||r.os.name,a={ua:navigator.userAgent,dev_type:t,os_type:r.os.name+" "+r.os.version,monitorId:this._monitorId};n(window,"error",function(e){a.url=location.href,a.msg=e.message,a.filename=e.filename,a.line=e.lineno,a.col=e.colno,a.stack=e.error&&e.error.stack;var o=new Date;a.time=new Date(o.getTime()-60*o.getTimezoneOffset()*1e3).toISOString().replace(/T/g," ").replace(/\.\d+Z$/,""),n(window,"load",i)});var d=this._serverUrl},e.exports=r},function(e,i){!function(i,o){"use strict";var s="",r="?",n="function",t="undefined",a="object",d="major",w="model",l="name",c="type",p="vendor",m="version",u="architecture",f="console",g="mobile",h="tablet",v={has:function(e,i){return i.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()}},b={rgx:function(){for(var e,i,s,r,d,w,l,c=0,p=arguments;c<p.length;c+=2){var m=p[c],u=p[c+1];if(typeof e===t){e={};for(r in u)d=u[r],typeof d===a?e[d[0]]=o:e[d]=o}for(i=s=0;i<m.length;i++)if(w=m[i].exec(this.getUA())){for(r in u)l=w[++s],d=u[r],typeof d===a&&d.length>0?2==d.length?typeof d[1]==n?e[d[0]]=d[1].call(this,l):e[d[0]]=d[1]:3==d.length?typeof d[1]!==n||d[1].exec&&d[1].test?e[d[0]]=l?l.replace(d[1],d[2]):o:e[d[0]]=l?d[1].call(this,l,d[2]):o:4==d.length&&(e[d[0]]=l?d[3].call(this,l.replace(d[1],d[2])):o):e[d]=l?l:o;break}if(w)break}return e},str:function(e,i){for(var s in i)if(typeof i[s]===a&&i[s].length>0){for(var n in i[s])if(v.has(i[s][n],e))return s===r?o:s}else if(v.has(i[s],e))return s===r?o:s;return e}},y={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",RT:"ARM"}}}},x={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[l,m,d],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[l,"Opera"],m,d],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt)\/((\d+)?[\w\.-]+)/i],[l,m,d],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[l,"Yandex"],m,d],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[l,/_/g," "],m,d],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[l,m,d],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[l,"Dolphin"],m,d],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[l,"Chrome"],m,d],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[m,d,[l,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[m,d,l],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[l,[d,b.str,y.browser.oldsafari.major],[m,b.str,y.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[l,m,d],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[l,"Netscape"],m,d],[/(swiftfox)/i,/(iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[l,m,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[u,"amd64"]],[/((?:i[346]|x)86)[;\)]/i],[[u,"ia32"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[u,/ower/,"",v.lowerize]],[/(sun4\w)[;\)]/i],[[u,"sparc"]],[/(ia64(?=;)|68k(?=\))|arm(?=v\d+;)|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[u,v.lowerize]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[w,p,[c,h]],[/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[p,w,[c,h]],[/\((ip[honed]+);.+(apple)/i],[w,p,[c,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[p,w,[c,g]],[/\((bb10);\s(\w+)/i],[[p,"BlackBerry"],w,[c,g]],[/android.+((transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+))/i],[[p,"Asus"],w,[c,h]],[/(sony)\s(tablet\s[ps])/i],[p,w,[c,h]],[/(nintendo)\s([wids3u]+)/i],[p,w,[c,f]],[/((playstation)\s[3portablevi]+)/i],[[p,"Sony"],w,[c,f]],[/(sprint\s(\w+))/i],[[p,b.str,y.device.sprint.vendor],[w,b.str,y.device.sprint.model],[c,g]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[p,[w,/_/g," "],[c,g]],[/\s((milestone|droid[2x]?))[globa\s]*\sbuild\//i,/(mot)[\s-]?(\w+)*/i],[[p,"Motorola"],w,[c,g]],[/android.+\s((mz60\d|xoom[\s2]{0,2}))\sbuild\//i],[[p,"Motorola"],w,[c,h]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9))/i],[[p,"Samsung"],w,[c,h]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[p,"Samsung"],w,[c,g]],[/(sie)-(\w+)*/i],[[p,"Siemens"],w,[c,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[p,"Nokia"],w,[c,g]],[/android\s3\.[\s\w-;]{10}((a\d{3}))/i],[[p,"Acer"],w,[c,h]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[[p,"LG"],w,[c,h]],[/((nexus\s4))/i,/(lg)[e;\s-\/]+(\w+)*/i],[[p,"LG"],w,[c,g]],[/(mobile|tablet);.+rv\:.+gecko\//i],[c,p,w]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,m],[/rv\:([\w\.]+).*(gecko)/i],[m,l]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[m,b.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[m,b.str,y.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[l,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[l,"Symbian"],m],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],m],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[l,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],m],[/(sunos)\s?([\w\.]+\d)*/i],[[l,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[l,m],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[l,"iOS"],[m,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[l,[m,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[l,m]]},k=function _(e){if(!(this instanceof _))return new _(e).getResult();var o=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:s);return this instanceof _?(this.getBrowser=function(){return b.rgx.apply(this,x.browser)},this.getCPU=function(){return b.rgx.apply(this,x.cpu)},this.getDevice=function(){return b.rgx.apply(this,x.device)},this.getEngine=function(){return b.rgx.apply(this,x.engine)},this.getOS=function(){return b.rgx.apply(this,x.os)},this.getResult=function(){return{browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(e){return o=e,this},void this.setUA(o)):new _(e).getResult()};e.exports=k}(this)}])});